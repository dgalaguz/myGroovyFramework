dependencies {
    compile project(':common')
    compile("io.github.bonigarcia:webdrivermanager:2.0.1")
}

ext {
    browser = System.properties['browser'] ? System.properties['browsers'] : "chrome"

    includeTests = System.properties['include.tests'] ? System.properties['include.tests'].tokenize(';') : ["**"]
}


test {

    dependsOn 'cleanTest'

    delete "build/spock-reports"

    includeTests.each {
        include("specs/" + it)
    }

    maxParallelForks = 2

    systemProperty "browser", browser

    systemProperty "pathToTestData", "src/test/groovy/testData/data.json"

    systemProperty 'com.athaydes.spockframework.report.showCodeBlocks', true
}
